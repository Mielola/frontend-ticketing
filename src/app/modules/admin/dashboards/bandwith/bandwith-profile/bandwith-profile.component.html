<div class="absolute inset-0 flex min-w-0 flex-col overflow-hidden">


    <mat-sidenav-container class="h-full">
        <mat-sidenav #drawer mode="side" class="md:w-1/2 lg:w-1/4 w-full">
            <div class="bg-slate-700 h-[30svh] relative">
                <svg class="absolute inset-0 pointer-events-none" viewBox="0 0 960 540" width="100%" height="100%"
                    preserveAspectRatio="xMidYMax slice" xmlns="http://www.w3.org/2000/svg">
                    <g class="text-gray-700 opacity-25" fill="none" stroke="currentColor" stroke-width="100">
                        <circle r="234" cx="196" cy="23"></circle>
                        <circle r="234" cx="790" cy="491"></circle>
                    </g>
                </svg>
                <button mat-button class="text-white font-bold absolute right-0" (click)="drawer.close()">
                    <mat-icon svgIcon="close" class="text-white font-bold"></mat-icon>
                </button>
            </div>
            <h2>Detail Pengguna</h2>
            <div *ngIf="selectedUser" class="p-3">
                <p><strong>Nama User Profile:</strong> {{ selectedUser.profile_name }}</p>
                <p><strong>Pembagian User:</strong> {{ selectedUser.shared_users }}</p>
                <p><strong>Upload / Download:</strong> {{ selectedUser.rate_limit }}</p>
            </div>
        </mat-sidenav>

        <mat-sidenav-content class="h-full p-4 overflow-y-scroll">
            <div class="grid-cols-1 md:grid-cols-2 lg:grid-cols-4 grid gap-6 px-3">
                <fuse-card class="flex flex-col px-8 py-6 pb-4 shadow-lg" #fuseCard>
                    <div class="text-xl font-bold">Download</div>
                    <div class="mt-2">
                        <div class="flex justify-between mb-1">
                            <span class="text-xs font-medium text-blue-700 dark:text-white">Download</span>
                            <span class="text-xs font-medium text-blue-700 dark:text-white">103MB/s</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                            <div class="bg-blue-600 h-2.5 rounded-full" style="width: 45%"></div>
                        </div>
                    </div>
                </fuse-card>
                <fuse-card class="flex flex-col px-8 py-6 pb-4 shadow-lg" #fuseCard>
                    <div class="text-xl font-bold">Upload</div>
                    <div class="mt-2">
                        <div class="flex justify-between mb-1">
                            <span class="text-xs font-medium text-blue-700 dark:text-white">Upload</span>
                            <span class="text-xs font-medium text-blue-700 dark:text-white">103MB/s</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                            <div class="bg-blue-600 h-2.5 rounded-full" style="width: 45%"></div>
                        </div>
                    </div>
                </fuse-card>
                <fuse-card class="flex flex-col px-8 py-6 pb-4 shadow-lg" #fuseCard>
                    <div class="text-xl font-bold">Total User</div>
                    <div class="mt-2">
                        <p class="font-medium">{{totalUser}} User</p>
                    </div>
                </fuse-card>
                <fuse-card class="flex flex-col px-8 py-6 pb-4 shadow-lg" #fuseCard>
                    <div class="text-xl font-bold">Total User Profile</div>
                    <div class="mt-2">
                        <p class="font-medium">{{totalUserProfile}} User Profile</p>
                    </div>
                </fuse-card>
            </div>

            <section class="p-3 overflow-y-hidden">
                <div class="bg-card flex flex-col overflow-hidden rounded-2xl h-fit w-full p-4 shadow-lg sm:col-span-6">
                    <div
                        class="truncate text-lg font-medium leading-6 tracking-tight px-4 flex items-center w-full justify-between">
                        User Profile
                    </div>

                    <!-- Card Content -->
                    <div class="py-4 sm:px-4 overflow-y-hidden">
                        <div class="relative overflow-x-auto sm:rounded-lg max-h-[45svh]">
                            <table
                                class="w-full h-fit text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                                <thead class="text-xs text-gray-700 uppercase dark:text-gray-400">
                                    <tr>
                                        <!-- <th scope="col" class="p-4">
                                          <div class="flex items-center">
                                              <input id="checkbox-all-search" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                              <label for="checkbox-all-search" class="sr-only">checkbox</label>
                                          </div>
                                      </th> -->
                                        <th scope="col" class="px-6 py-3 text-xs sm:text-sm">
                                            Name
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-xs sm:text-sm">
                                            Shared Users
                                        </th>
                                        <th scope="col" class="px-6 py-3 text-xs sm:text-sm">
                                            Upload / Download
                                        </th>
                                        <!-- <th scope="col" class="px-6 py-3 text-xs sm:text-sm">
                                            Action
                                        </th> -->
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="hover:bg-neutral-200 transition-all" *ngFor="let roleData of roleDatas"
                                        (click)="openDrawer(roleData.profile_name)">
                                        <!-- <td class="w-4 p-4">
                                          <div class="flex items-center">
                                              <input id="checkbox-table-search-3" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                                              <label for="checkbox-table-search-3" class="sr-only">checkbox</label>
                                          </div>
                                      </td> -->
                                        <th scope="row"
                                            class="flex items-center px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                            <div class="max-sm:pr-4">
                                                <div class="text-base font-semibold">{{roleData.profile_name}}</div>
                                                <div class="font-normal text-gray-500">{{roleData.profile_name}}</div>
                                            </div>
                                        </th>
                                        <td class="px-6 py-4 text-sm sm:text-sm">
                                            {{roleData.shared_users}}
                                        </td>

                                        <td class="px-6 py-4 text-sm sm:text-sm">
                                            {{roleData.rate_limit}}
                                        </td>

                                        <!-- <td class="px-6 translate-y-[10px] flex items-center ">
                                            <a (click)="deleteProfile(roleData.profile_name)"
                                                class="font-medium mx-1 text-white dark:text-white bg-red-500 rounded hover:underline">
                                                <mat-icon svgIcon="heroicons_solid:trash" class="text-white"
                                                    style="transform: scale(0.7);"></mat-icon>
                                            </a>
                                            <a [routerLink]="['edit-role', roleData.profile_name]"
                                                class="font-medium mx-1 text-white dark:text-white bg-blue-500 rounded hover:underline">
                                                <mat-icon svgIcon="heroicons_solid:pencil-square" class="text-white"
                                                    style="transform: scale(0.7);"></mat-icon>
                                            </a>
                                        </td> -->
                                    </tr>
                                </tbody>

                            </table>
                        </div>
                    </div>
                    <!-- Paginator -->
                    <mat-paginator [length]="total_pages" [pageSize]="1" [pageSizeOptions]="[1, 5, 10, 25]"
                        (page)="handlePage($event)" showFirstLastButtons></mat-paginator>
                </div>
            </section>

        </mat-sidenav-content>
    </mat-sidenav-container>
</div>